.\" $Id: sources.list.5,v 1.2 1998/11/23 01:16:01 jgg Exp $
.\" This manpage is copyright (C) 1998 Branden Robinson <branden@debian.org>.
.\" 
.\" This is free software; you may redistribute it and/or modify
.\" it under the terms of the GNU General Public License as
.\" published by the Free Software Foundation; either version 2,
.\" or (at your option) any later version.
.\"
.\" This is distributed in the hope that it will be useful, but
.\" WITHOUT ANY WARRANTY; without even the implied warranty of
.\" MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
.\" GNU General Public License for more details.
.\"
.\" You should have received a copy of the GNU General Public
.\" License along with APT; if not, write to the Free Software
.\" Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA 
.\" 02111-1307 USA
.TH sources.list 5 "16 June 1998" "Debian GNU/Linux"
.SH NAME
sources.list \- package resource list for APT
.SH DESCRIPTION
The package resource list is used to locate archives of the package
distribution system in use on the system. At this time, this manual page
documents only the packaging system used by the Debian GNU/Linux system.
.PP
The source list is designed to support any number of active sources and a
variety of source media. The file lists one source per line, with the
most preferred source listed first. The format of each line is:
.I type uri args
The first item,
.IR type ,
determines the format for
.IR args .
.I uri
is a Universal Resource Identifier (URI), which is a superset of the more
specific and well-known Universal Resource Locator, or URL.
.SS The deb type
The
.B deb
type describes a typical two-level Debian archive,
.IR distribution / component .
Typically,
.I distribution
is one of
.BR stable ,
.BR unstable ,
or
.BR frozen ,
while component is one of
.BR main ,
.BR contrib ,
.BR non-free ,
or
.BR non-us .
The format for a
.I sources.list
entry using the
.B deb
type is:
.RS
deb
.I uri distribution
.RI [ component
.I ...
]
.RE
The URI for the
.B deb
type must specify the base of the Debian distribution, from which
.B APT
will find the information it needs.
.I distribution
can specify an exact path, in which case the
.IR component s
must be omitted and
.I distribution
must end with a slash (/). This is useful for when only a particular
sub-section of the archive denoted by the URI is of interest.
If
.I distribution
does not specify an exact path, at least one
.I component
must be present.
.PP
.I distribution
may also contain a variable, 
.BR $(ARCH) ,
which expands to the Debian architecture (i386, m68k, powerpc, ...)     
used on the system. This permits archiecture-independent                
.I sources.list
files to be used.
.PP
Since only one distribution can be specified per line it may be necessary
to have multiple lines for the same URI, if a subset of all available
distributions or components at that location is desired.
.B APT
will sort the URI list after it has generated a complete set internally,
and will collapse multiple references to the same Internet host, for
instance, into a single connection, so that it does not inefficiently
establish an FTP connection, close it, do something else, and then
re-establish a connection to that same host. This feature is useful
for accessing busy FTP sites with limits on the number of simultaneous
anonymous users.
.PP
It is important to list sources in order of preference, with the most
preferred source listed first. Typically this will result in sorting
by speed from fastest to slowest (CD-ROM followed by hosts on a local
network, followed by distant Internet hosts, for example).
.SS URI specification
The three currently recognized URI types are file, http, and ftp.
.IP file
The file scheme allows an arbitrary directory in the file system to be
considered an archive. This is useful for NFS mounts and local mirrors or
archives.
.IP http
The http scheme specifies an HTTP server for the archive. If an environment
variable
.B $http_proxy
is set with the format
.\" Ugly hackery ahead, nroff doesn't like three different typefaces in a
.\" row with no spaces between anything.
.BI http:// server : port /\c
, the proxy server specified in
.B $http_proxy
will be used. Users of
authenticated HTTP/1.1 proxies may use a string of the format
.BI http:// user : pass @ server : port /\c
.\" For some reason, starting the next line with \. didn't work. So we kludge.
\&. Note that this is an insecure method of authentication.
.IP ftp
The ftp scheme specifies an FTP server for the archive. APT's FTP behavior
is highly configurable; for more information see the
.BR ftp.conf (5)
manual page.
.SH EXAMPLES
.IP "deb file:/home/jason/debian stable main contrib non-free"
Uses the archive stored locally (or NFS mounted) at
.I /home/jason/debian
for stable/main, stable/contrib, and stable/non-free.
.IP "deb file:/home/jason/debian unstable main contrib non-free"
As above, except this uses the unstable (development) distribution.
.IP "deb http://www.debian.org/archive stable main"
Uses HTTP to access the archive at www.debian.org, and uses only the
stable/main area.
.IP "deb ftp://ftp.debian.org/debian stable contrib"
Uses FTP to access the archive at ftp.debian.org, under the debian
directory, and uses only the stable/contrib area.
.IP "deb ftp://ftp.debian.org/debian unstable contrib"
Uses FTP to access the archive at ftp.debian.org, under the debian
directory, and uses only the unstable/contrib area. If this line appears as
well as the one in the previous example in
.IR sources.list ,
a single FTP session will be used for both resource lines.
.IP "deb ftp://nonus.debian.org/debian-non-US unstable/binary-i386/"
Uses FTP to access the archive at nonus.debian.org, under the debian-non-US
directory, and uses only files found under unstable/binary-i386.
.IP "deb http://ftp.de.debian.org/debian-non-US unstable/binary-$(ARCH)/"
Uses HTTP to access the archive at nonus.debian.org, under the
debian-non-US directory, and uses only files found under
unstable/binary-i386 on i386 machines, unstable/binary-m68k on m68k, and so
forth for other supported architectures.
.SH SEE ALSO
.BR apt-cache (8),
.BR apt-get (8),
.SH BUGS
See <http://www.debian.org/Bugs/db/pa/lapt.html>.  If you wish to report a
bug in
.BR apt-get ,
please see
.I /usr/doc/debian/bug-reporting.txt
or the
.BR bug (1)
command.
.SH AUTHOR
APT was written by the APT team <apt@packages.debian.org>.
